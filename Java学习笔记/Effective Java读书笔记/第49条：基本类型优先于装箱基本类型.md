## 第49条：基本类型优先于装箱基本类型

基本类型和装箱基本类型之间有三个主要的区别：

* 基本类型只有值，而装箱基本类型则具有与它们的值不同的同一性（值相同，引用可能不同）。 
* 基本类型只有功能完备的值，而每个装箱基本类型除了它对应基本类型的所有功能值之外，还有一个非功能值：null。 
* 最后一点区别是，基本类型通常比装箱基本类型更省时间和空间。 

**ps:当在一项操作中混合使用基本类型和装箱基本类型时，装箱基本类型就会自动拆箱。**

Demo：

```
public class BoxedPrimitiveDemo {
    static Integer i;

    public static void main(String[] args){
        Integer a = new Integer(42);
        Integer b = new Integer(42);
        if(a == b){
            System.out.println("a与b完全相同");
        }else{
            System.out.println("a与b值相同");
        }
        //↑打印结果为：a与b值相同


        Long sum = 0L;
        for(long len = 0; len < Integer.MAX_VALUE; len++){
            sum += len;
        }
        System.out.println(sum);
        //↑此处运行非常缓慢，因为执行了非常多的拆箱、装箱操作

        long sum1 = 0;
        for(long len = 0; len < Integer.MAX_VALUE; len++){
            sum1 += len;
        }
        //↑相比之下，此处快多了
        System.out.println(sum);


        if(i == 42){
            System.out.println("");
        }
        //↑此处会抛异常,Exception in thread "main" java.lang.NullPointerException
        //  at com.java.effective.common.BoxedPrimitiveDemo.main(BoxedPrimitiveDemo.java:20)

    }
}
```

适用装箱类型的场合：

* 作为集合中的元素、键和值 
* 在参数化类型（见第5章）中，必须使用装箱基本类型作为类型参数。要用ThreadLocal\<Integer\>代替ThreadLocal\<int> 
* 在进行反射的方法调用时（见第53条），必须适用装箱基本类型。 